# 简化版员工联合查询功能

## 功能概述

简化版员工联合查询功能提供了一个高效的数据查询界面，将员工基本信息、线索数据和响应数据整合在一个页面中，支持多种筛选和排序功能。

## 主要特性

### 1. 数据整合
- **员工基本信息**: 员工姓名、UID、状态、创建时间
- **线索数据**: 小红书账号信息、地区、互动数据、笔记数据
- **响应数据**: 响应时间、用户评分、各种响应评分

### 2. 搜索功能
- 支持模糊搜索员工姓名、UID、小红书昵称、地区
- 实时搜索，输入后自动触发查询

### 3. 高级筛选
- **基础筛选**: 员工姓名、UID、小红书昵称、地区、状态、时间范围
- **互动数据筛选**: 总互动数、表单线索、私信相关数据
- **笔记数据筛选**: 发布笔记数、推广笔记数、推广费用、曝光点击数据
- **响应数据筛选**: 响应时间、用户评分、各种响应评分

### 4. 排序功能
- 支持按员工姓名、互动数据、笔记数据、响应数据等字段排序
- 支持升序和降序排列

### 5. 分页功能
- 支持自定义每页显示数量
- 支持快速跳转到指定页面
- 显示总记录数和当前页范围

## 使用方法

### 1. 访问页面
- 在侧边栏点击"简化联合查询"菜单项
- 或直接访问 `/employee-simple-join` 路径

### 2. 基础搜索
- 在页面顶部的搜索框中输入关键词
- 支持搜索员工姓名、UID、小红书昵称、地区
- 按回车键或点击搜索按钮执行搜索

### 3. 排序数据
- 在搜索栏右侧选择排序字段
- 点击排序方向按钮切换升序/降序
- 支持按员工姓名、互动数、笔记数、响应时间等排序

### 4. 高级筛选
- 点击"高级筛选"按钮打开筛选弹窗
- 在弹窗中设置各种筛选条件
- 点击"应用筛选"按钮应用筛选条件
- 点击"取消"按钮关闭弹窗

### 5. 重置筛选
- 点击"重置筛选"按钮清除所有筛选条件
- 数据将恢复到默认状态

### 6. 刷新数据
- 点击"刷新"按钮重新加载当前数据
- 保持当前的筛选和排序条件

## 数据字段说明

### 员工信息
- **员工姓名**: 员工的中文姓名
- **员工UID**: 员工的唯一标识符
- **状态**: 员工当前状态（active/inactive）

### 小红书账号
- **小红书昵称**: 员工的小红书账号昵称
- **账号ID**: 小红书账号的唯一标识
- **地区**: 员工所在地区

### 互动数据
- **总互动**: 所有互动行为的总数
- **表单线索**: 通过表单获取的线索数量
- **私信线索**: 通过私信获取的线索数量
- **私信开启**: 私信被开启的次数
- **私信保留**: 私信被保留的线索数量

### 笔记数据
- **发布笔记**: 已发布的笔记数量
- **推广笔记**: 进行推广的笔记数量
- **推广费用**: 笔记推广的总费用
- **笔记曝光**: 笔记的曝光次数
- **笔记点击**: 笔记的点击次数

### 响应数据
- **平均响应时间**: 平均响应时间（秒）
- **用户评分**: 用户对响应的评分
- **15秒响应率**: 15秒内响应的比例
- **30秒响应率**: 30秒内响应的比例
- **1分钟响应率**: 1分钟内响应的比例
- **1小时超时率**: 1小时内超时的比例

### 响应评分
- **15秒响应评分**: 15秒响应时间的评分
- **30秒响应评分**: 30秒响应时间的评分
- **1分钟响应评分**: 1分钟响应时间的评分
- **平均响应评分**: 平均响应时间的综合评分

## 技术实现

### 后端函数
- 使用PostgreSQL函数 `get_employee_join_data`
- 支持动态SQL构建和参数化查询
- 包含完整的索引优化

### 前端实现
- 基于React + TypeScript
- 使用Ant Design组件库
- 支持响应式设计

### 性能优化
- 数据库查询优化
- 前端分页和懒加载
- 筛选条件缓存

## 注意事项

1. **数据权限**: 确保用户有访问相关表的权限
2. **网络连接**: 需要稳定的网络连接来加载数据
3. **浏览器兼容**: 建议使用现代浏览器以获得最佳体验
4. **数据更新**: 数据可能有延迟，如需最新数据请点击刷新

## 故障排除

### 常见问题

1. **数据加载失败**
   - 检查网络连接
   - 刷新页面重试
   - 联系管理员检查数据库连接

2. **筛选不生效**
   - 确认筛选条件设置正确
   - 点击"应用筛选"按钮
   - 检查是否有特殊字符

3. **排序异常**
   - 选择正确的排序字段
   - 确认排序方向设置
   - 刷新页面重试

4. **分页问题**
   - 调整每页显示数量
   - 使用快速跳转功能
   - 检查总记录数是否正确

## 更新日志

- **v1.0.0**: 初始版本，支持基础查询和筛选功能
- **v1.1.0**: 添加高级筛选和排序功能
- **v1.2.0**: 优化性能和用户体验 